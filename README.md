# Battleship

Консольное приложение-бот для игры в морской бой с интерфейсом взаимодействия через стандартные потоки ввода\вывода

### Правила

Правила идентичны классическому [морскому бою](https://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D1%80%D1%81%D0%BA%D0%BE%D0%B9_%D0%B1%D0%BE%D0%B9_(%D0%B8%D0%B3%D1%80%D0%B0)), за исключением того, что размер поля и количество кораблей может быть произвольным (размеры кораблей соответствуют размерам в классической игре)


Для игры нужны два игрока: master и slave. Master дополнительно устанавливает параметры игры: размер поля и количество кораблей, и сообщает их slave. Далее, оба игрока расставляют свои корабли согласно этим параметрам, и, после начала игры, поочерёдно стреляют друг в друга, по правилам классического морского боя


### Команды

В приведённой далее таблице указаны команды, их параметры и варианты ответа.
Ответ всегда заканчивается символом конца строки. Все команды и ответы печатаются в нижнем регистре.

| Команда                      | Ответ          | Описание |
| -------                      | -----          | --------                                    |
| ping                         |  pong          |   тестовая команда                          |
| exit                         |  ok            |   программа завершается                     |
| create [master,slave]        |  ok            |   создать игру в режиме master или slave соответственно       |
| start                        |  ok            |   старт игры                     |
| stop                         |  ok            |   остановка текущей партии       |
| set width  N                 |  ok/failed     |   установить ширину поля (N положительное, влезает в uint64_t)       |
| get width                    |  N             |   получить длину поля  (N положительное, влезает в uint64_t)      |
| set height N                 |  ok/failed     |   установить высоту поля (N положительное, влезает в uint64_t)        |
| get height                   |  N             |   получить высоту поля  (N положительное, влезает в uint64_t)      |
| set count [1,2,3,4]  N       |  ok/failed     |   установить количество кораблей определенного типа (N положительное, влезает в uint64_t)        |
| get count [1,2,3,4]          |  N             |   получить количество кораблей определенного типа (N положительное, влезает в uint64_t)        |
| set strategy [ordered,custom]|  ok            |   выбрать стратегию для игры        |
| shot X Y                     |  miss/hit/kill |   выстрел по вашим короаблям в координатах (X,Y) (X,Y положительные, влезают в uint64_t)      | 
| shot                         |  X Y           |   вернуть координаты вашего следующего выстрела, в ответе два числа через пробел  (X,Y положительные, влезают в uint64_t)       |
| set result [miss,hit,kill]   |  ok            |   установить результат последнего выстрела программы       |
| finished                     |  yes/no        |   окончена ли текущая партия       |
| win                          |  yes/no        |   являетесь ли вы победителем       |
| lose                         |  yes/no        |   являетесь ли вы проигравшим       |
| dump PATH                    |  ok            |   сохранить размер поля и вашу текущую расстановку кораблей в файл        |
| load PATH                    |  ok            |   загрузить размер поля и расстановку кораблей из файла      |

### Формат файла для команды dump\load

Файл в текстовом формате, где первая строка включает размер поля (ширина, высота) через пробел.
Далее на каждой строке описывается размер корабля, направленность (горизонтальны и вертикальный) и координаты левого верхнего угла (по ширине, по высоте) через пробел

Пример

```
10 10
1 v 0 0
2 h 3 4
4 h 1 8
```

### Стратегии

* Ordered - алгоритм для тестов, стреляет последовательно построчно начиная с точки (0,0)
* Custom  - мой алгоритм (используется по-умолчанию)
